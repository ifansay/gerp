generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "mysql"
  url               = env("DATABASE_URL")
  directUrl         = env("DIRECT_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

generator erd {
  provider     = "prisma-erd-generator"
  ignoreTables = ["_prisma_migrations", "Session", "Account", "Example"]
  disabled     = false
  ignoreEnums  = true
  output       = "database.svg"
}

/// Walmart-广告商品结构
model ads_items {
  /// 主键
  id                    Int                @id @default(autoincrement())
  /// 市场id
  market_id             Int
  /// 广告活动id
  campaign_id           Int
  /// 广告活动联合字段
  campaign_market       String
  /// 广告组id
  group_id              Int
  /// 广告组联合字段
  group_market          String
  /// 广告id
  ad_id                 Int
  /// 广告联合字段
  item_market           String
  /// 广告联合字段
  group_item_market     String
  /// 审核状态（pending, approved, rejected）
  review_status         String
  /// 审核原因
  review_reason         String
  /// 状态（enabled, disabled）
  status                String
  /// 竞价
  bid                   Decimal
  /// 商品编码
  item_id               String
  /// 商品名称
  item_name             String
  /// 父商品编码
  variation_item_id     String
  /// 父商品联合字段
  variation_item_market String
  /// 商品图片链接
  item_image_url        String
  /// 商品页面链接
  item_page_url         String
  /// 记录创建时间
  create_time           DateTime
  /// 记录变更时间
  update_time           DateTime
  platform_market       platform_market    @relation(fields: [market_id], references: [id])
  ads_items_report_s    ads_items_report[]
}
/// Walmart-广告商品业绩
model ads_items_report {
  /// 主键
  id                          Int             @id @default(autoincrement())
  /// 市场id
  market_id                   Int
  /// 数据时间
  data_date                   DateTime
  /// 国家编码
  country                     String
  /// 币种
  currency                    String
  /// 广告活动id
  campaign_id                 Int
  /// 广告活动联合字段
  campaign_market             String
  /// 广告组id
  group_id                    Int
  /// 广告组联合字段
  group_market                String
  /// 广告id
  ad_id                       Int
  /// 商品编码
  item_id                     String
  /// 广告联合字段
  group_item_market           String
  /// 展示次数
  num_ads_shown               Int
  /// 点击次数
  num_ads_clicks              Int
  /// 广告花费
  ad_spend                    Decimal
  /// 3天归因总销售额
  attributed_sales_3days      Decimal
  /// 14天归因总销售额
  attributed_sales_14days     Decimal
  /// 30天归因总销售额
  attributed_sales_30days     Decimal
  /// 3天归因总销量
  attributed_units_3days      Int
  /// 14天归因总销量
  attributed_units_14days     Int
  /// 30天归因总销量
  attributed_units_30days     Int
  /// 3天归因总订单量
  attributed_orders_3days     Int
  /// 14天归因总订单量
  attributed_orders_14days    Int
  /// 30天归因总订单量
  attributed_orders_30days    Int
  /// 3天归因直接销售额
  advertised_sku_sales_3days  Decimal
  /// 14天归因直接销售额
  advertised_sku_sales_14days Decimal
  /// 30天归因直接销售额
  advertised_sku_sales_30days Decimal
  /// 3天归因直接销量
  advertised_sku_units_3days  Int
  /// 14天归因直接销量
  advertised_sku_units_14days Int
  /// 30天归因直接销量
  advertised_sku_units_30days Int
  /// 3天归因间接销售额
  other_sku_sales_3days       Decimal
  /// 14天归因间接销售额
  other_sku_sales_14days      Decimal
  /// 30天归因间接销售额
  other_sku_sales_30days      Decimal
  /// 3天归因间接销量
  other_sku_units_3days       Int
  /// 14天归因间接销量
  other_sku_units_14days      Int
  /// 30天归因间接销量
  other_sku_units_30days      Int
  /// 新买家3天归因总销售额
  ntb_revenue_3days           Decimal
  /// 新买家14天归因总销售额
  ntb_revenue_14days          Decimal
  /// 新买家30天归因总销售额
  ntb_revenue_30days          Decimal
  /// 新买家3天归因总销量
  ntb_units_3days             Int
  /// 新买家14天归因总销量
  ntb_units_14days            Int
  /// 新买家30天归因总销量
  ntb_units_30days            Int
  /// 新买家3天归因总订单量
  ntb_orders_3days            Int
  /// 新买家14天归因总订单量
  ntb_orders_14days           Int
  /// 新买家30天归因总订单量
  ntb_orders_30days           Int
  /// 记录创建时间
  create_time                 DateTime
  /// 记录变更时间
  update_time                 DateTime
  platform_market             platform_market @relation(fields: [market_id], references: [id])
  ads_items                   ads_items       @relation(fields: [campaign_id], references: [campaign_id])
  ads_items                   ads_items       @relation(fields: [group_id], references: [group_id])
  ads_items                   ads_items       @relation(fields: [ad_id], references: [ad_id])
}

/// Walmart-店铺
model platform_market {
  /// 主键
  id                    Int                   @id @default(autoincrement())
  /// 中台聚合店铺ID
  market_polymerize_id  Int
  tenant_code           String
  /// 当站点为CA事储存consumerId
  client_id             String
  /// 商家ID
  partner_id            String
  /// partner_name
  partner_name          String
  /// display_name
  display_name          String
  /// 当站点为CA事储存secretKey
  client_secret         String
  /// CA站点特殊字段
  channel_type          String
  /// 数据唯一标识
  public_token          String
  /// 国家
  country               String
  /// 店铺名称
  market_name           String
  /// 店铺账号
  market_account        String
  /// 授权状态(0成功，1失败)
  auth_status           Int
  /// 店铺状态(0启动，1禁用)
  status                Int
  /// 授权更新时间(含广告和店铺)
  auth_update_time      DateTime
  /// 平台仓库ID
  platform_warehouse_id Int
  /// catalogSellerId
  catalog_seller_id     String
  /// 记录创建时间
  create_time           DateTime
  /// 记录变更时间
  update_time           DateTime
  warehouse             e_warehouse           @relation(fields: [platform_warehouse_id], references: [id])
  ads_items_s           ads_items[]
  ads_items_report_s    ads_items_report[]
  market_polymerize_s   e_market_polymerize[]
}
/// 仓库信息
model e_warehouse {
  id                       Int      @id @default(autoincrement())
  server_id                Int
  /// 平台编码
  platform_code            String
  /// 仓库名称
  name                     String
  /// FBA仓/三方仓/自营仓/WFS仓/供应商仓
  type                     String
  /// 父仓库类型
  parent_type              String
  country                  String
  others                   String
  /// 仓库编号
  warehouse_code           String
  /// Pan-Eur 欧洲共享
  pan_eur_status           Int
  /// 创建时间
  create_date              DateTime
  /// 状态
  status                   String
  /// FBA仓采购方式
  fba_procurement_method   Int
  ///  FBA中转仓ID
  transfer_warehouse_id    Int
  /// 卖家编号
  seller_id                String
  /// 成品调拨出库扣减包材仓
  product_transfer_subpac  Int
  /// 组合商品调拨出库扣减包材仓
  assemble_transfer_subpac Int
  /// 联系人
  contacts                 String
  /// 联系电话
  mobile                   String
  /// 公司名称
  company                  String
  /// 国内（省），国外（州，地区）
  state                    String
  /// 国内（市），国外（城市）
  city                     String
  /// 县、区、镇
  district                 String
  /// 邮政编码
  zip_code                 String
  /// 收件地址
  street                   String
  /// 传真、固定电话
  phone                    String
  /// 邮箱
  email                    String
  /// qq号
  qq                       String
  /// 收件地址2
  street2                  String
  /// 地址信息备注
  address_remark           String
  /// 记录创建时间
  create_time              DateTime
  /// 记录变更时间
  update_time              DateTime
  /// 三方仓服务商编码
  sp_code                  String
  /// 三方仓仓库编码
  spw_code                 String
  /// 北美联合仓以及子仓库隐藏标记
  hide_flag                Int
  /// 店铺解绑启用置灰标记
  gray_unbundle_flag       Int
  /// 地址信息
  address_ext              String
}
/// 全平台店铺
model e_market_polymerize {
  /// 主键
  id                  Int             @id @default(autoincrement())
  /// 平台编码
  platform_code       String
  /// 国家名称
  country_name        String
  /// 平台名称
  platform_name       String
  /// 禁用子账号
  disable_Subaccounts Int
  /// session
  session             Int
  /// 站点名称
  market_name         String
  /// 卖家编号
  seller_id           String
  /// 时间区域
  time_zone           String
  /// 店铺名称
  shop_name           String
  /// 亚马逊授权状态:Invalid无效Normal正常Expired 过期
  api_state           String
  /// asin_url地址
  asin_url            String
  /// 国家编码，英文简称
  country_code        String
  /// 记录创建时间
  create_time         DateTime
  /// 平台站点店铺ID(原始ID)，多个店铺可能对应同一个market_id
  market_id           String
  /// 0.正常同步(可用) 1.暂停同步(禁用) 2.授权失败
  disabled            Int
  /// 授权码状态
  ads_state           String
  /// 站点创建时间
  add_date            DateTime
  /// 币种id
  currency_id         Int
  /// 记录变更时间
  update_time         DateTime
  /// 0.未删除 1.删除
  delete_state        Int
  /// 亚马逊AWD仓库ID
  awd_warehouse_id    Int
  /// 删除时间
  delete_time         DateTime
  /// 广告授权码
  ads_code            String
  /// 删除人ID
  delete_user_id      Int
  /// 公开token
  public_token        String
  /// 仓库ID
  warehouse_id        Int
  /// 亚马逊sp token
  refresh_token       String
  /// 区域ID
  region_id           String
  server_id           String
  platform_market     platform_market @relation(fields: [market_id], references: [id])
  warehouse           e_warehouse     @relation(fields: [warehouse_id], references: [id])
}
